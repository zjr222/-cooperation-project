[{"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/index.js":"1","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/App.js":"2","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/page/index.js":"3","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/index.js":"4","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Header/index.js":"5","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Footer/index.js":"6","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Layout/index.js":"7","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Main/index.js":"8","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/reducer/index.js":"9","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Index/index.js":"10","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/MovieComment/index.js":"11","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/DetailsComp/index.js":"12","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Sort/index.js":"13","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/RankList/index.js":"14","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/AllMoviesActors/index.js":"15","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/NotFound/index.js":"16","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/ActorIntroduce/index.js":"17","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/reducer/Movies.js":"18","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/services/getData.js":"19","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/utils/lazyLoad.js":"20","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/RatingComp/index.js":"21","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CheckoutComp/index.js":"22","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/action/Movies.js":"23","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CommonComp/CommentComp/index.js":"24","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CommonComp/MovieComp/index.js":"25","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CommonComp/PopularFilmComp/index.js":"26","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/utils/throttle.js":"27"},{"size":231,"mtime":1617007931775,"results":"28","hashOfConfig":"29"},{"size":341,"mtime":1617007920076,"results":"30","hashOfConfig":"29"},{"size":654,"mtime":1616490902808,"results":"31","hashOfConfig":"29"},{"size":242,"mtime":1617008112528,"results":"32","hashOfConfig":"29"},{"size":1101,"mtime":1616490902792,"results":"33","hashOfConfig":"29"},{"size":119,"mtime":1616490902792,"results":"34","hashOfConfig":"29"},{"size":721,"mtime":1616490902792,"results":"35","hashOfConfig":"29"},{"size":1037,"mtime":1616490902792,"results":"36","hashOfConfig":"29"},{"size":120,"mtime":1617008021488,"results":"37","hashOfConfig":"29"},{"size":4695,"mtime":1616490902792,"results":"38","hashOfConfig":"29"},{"size":4607,"mtime":1616727213057,"results":"39","hashOfConfig":"29"},{"size":11530,"mtime":1617008125914,"results":"40","hashOfConfig":"29"},{"size":3345,"mtime":1616728198301,"results":"41","hashOfConfig":"29"},{"size":1555,"mtime":1616490902792,"results":"42","hashOfConfig":"29"},{"size":4790,"mtime":1616490902777,"results":"43","hashOfConfig":"29"},{"size":457,"mtime":1616490902792,"results":"44","hashOfConfig":"29"},{"size":6888,"mtime":1616490902777,"results":"45","hashOfConfig":"29"},{"size":406,"mtime":1617008023395,"results":"46","hashOfConfig":"29"},{"size":2544,"mtime":1617001325525,"results":"47","hashOfConfig":"29"},{"size":283,"mtime":1616490902808,"results":"48","hashOfConfig":"29"},{"size":395,"mtime":1616490902792,"results":"49","hashOfConfig":"29"},{"size":660,"mtime":1616728262076,"results":"50","hashOfConfig":"29"},{"size":352,"mtime":1617008105149,"results":"51","hashOfConfig":"29"},{"size":1159,"mtime":1617000834597,"results":"52","hashOfConfig":"29"},{"size":1831,"mtime":1616490902777,"results":"53","hashOfConfig":"29"},{"size":1339,"mtime":1616490902777,"results":"54","hashOfConfig":"29"},{"size":267,"mtime":1616727462404,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"4ojgfq",{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/App.js",[],["112","113"],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/page/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/index.js",["114"],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Header/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Footer/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Layout/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Main/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/reducer/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Index/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/MovieComment/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/DetailsComp/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/Sort/index.js",["115"],"import React, { useState, useEffect } from 'react'\r\nimport styles from './index.module.css';\r\nimport CheckoutComp from '../CheckoutComp';\r\nimport MovieComp from '../CommonComp/MovieComp';\r\nimport apis from '../../services/getData';\r\nimport throttle from '../../utils/throttle';\r\nimport lazyLoad from '../../utils/lazyLoad';\r\nimport { Spin } from 'antd';\r\n\r\nconst arrtsArr = [\r\n  ['全部类型', '剧情', '喜剧', '动作', '爱情', '科幻', '动画', '悬疑', '惊悚', '恐怖', '犯罪', '同性', '音乐', '歌舞', '传记', '历史', '战争', '西部', '奇幻', '冒险', '灾难', '武侠', '情色'],\r\n  ['全部地区', '中国大陆', '欧美', '美国', '中国香港', '中国台湾', '日本', '韩国', '英国', '法国', '德国', '意大利', '西班牙', '印度', '泰国', '俄罗斯', '伊朗', '加拿大', '澳大利亚', '爱尔兰', '瑞典', '巴西'],\r\n  ['全部年代', '2020', '2019', '2010年代', '90年代', '80年代', '70年代', '60年代', '更早'],\r\n  ['全部特色', '经典', '青春', '文艺', '搞笑', '励志', '魔幻', '感人', '女性', '黑帮'],\r\n];\r\n\r\nexport default function Sort() {\r\n  const [condition, setCondition] = useState({\r\n    sort: 'U',\r\n    start: 0,\r\n    tags: '',\r\n    range: '0,10',\r\n    genres: '',\r\n    countries: '',\r\n    year_range: '',\r\n  });\r\n  const [tags, setTags] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [moviesList, setMoviesList] = useState([]);\r\n  useEffect(() => {\r\n    document.onscroll = throttle(() => {\r\n      lazyLoad(() => {\r\n        setCondition(prev => {\r\n          return {\r\n            ...prev,\r\n            start: prev.start + 20,\r\n          }\r\n        })\r\n      }, document.getElementById('root'));\r\n    }, 1000)\r\n    return () => {\r\n      document.onscroll = null;\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      setLoading(true);\r\n      const result = await apis.getClasseMovie(condition);\r\n      setMoviesList(() => [...moviesList, ...result.data]);\r\n      setLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [condition]);\r\n  let movieEle = moviesList.map(it => {\r\n    const data = {\r\n      id: [it.id],\r\n      rate: it.rate,\r\n      img: it.cover,\r\n      movieName: it.title,\r\n      director: it.directors,\r\n      actors: it.casts,\r\n    };\r\n    return <MovieComp key={it.id} {...data} />\r\n  });\r\n\r\n  // if (moviesList.length === 0) {\r\n  //   movieEle = <div className={styles.noData}>暂无数据</div>\r\n  // }\r\n  const checkouts = arrtsArr.map(attrs => <CheckoutComp key={attrs[0]} attrs={attrs} onCheckout={(key, value) => {\r\n    const tagIndex = tags.findIndex(it => it[0] === key);\r\n    const newTags = [...tags];\r\n    if (tagIndex >= 0) {\r\n      newTags[tagIndex] = [key, value];\r\n    } else {\r\n      newTags.push([key, value]);\r\n    }\r\n    setTags(() => {\r\n      setCondition({\r\n        ...condition,\r\n        tags: newTags.map(it => it[1]).filter(it => it).join(','),\r\n        start: 0,\r\n      });\r\n      setMoviesList([]);\r\n      return newTags;\r\n    });\r\n  }} />)\r\n  return (\r\n    <div className={styles.sortWrapper}>\r\n      {checkouts}\r\n      <Spin spinning={loading} size='large' className={styles.loading}>\r\n        <div className={`${styles.movieList}`}>\r\n          {/* 电影列表 */}\r\n          {movieEle}\r\n        </div>\r\n      </Spin>\r\n    </div>\r\n  )\r\n}\r\n","/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/RankList/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/AllMoviesActors/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/NotFound/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/ActorIntroduce/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/reducer/Movies.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/services/getData.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/utils/lazyLoad.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/RatingComp/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CheckoutComp/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/store/action/Movies.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CommonComp/CommentComp/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CommonComp/MovieComp/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/components/CommonComp/PopularFilmComp/index.js",[],"/mnt/c/Users/Administrator/Desktop/cooperation-project/client/src/utils/throttle.js",[],{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","severity":1,"message":"121","line":2,"column":10,"nodeType":"122","messageId":"123","endLine":2,"endColumn":21},{"ruleId":"124","severity":1,"message":"125","line":53,"column":6,"nodeType":"126","endLine":53,"endColumn":17,"suggestions":"127"},"no-native-reassign",["128"],"no-negated-in-lhs",["129"],"no-unused-vars","'actionTypes' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'moviesList'. Either include it or remove the dependency array. You can also do a functional update 'setMoviesList(m => ...)' if you only need 'moviesList' in the 'setMoviesList' call.","ArrayExpression",["130"],"no-global-assign","no-unsafe-negation",{"desc":"131","fix":"132"},"Update the dependencies array to be: [condition, moviesList]",{"range":"133","text":"134"},[1790,1801],"[condition, moviesList]"]